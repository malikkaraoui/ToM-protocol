openapi: 3.0.3
info:
  title: ToM Signaling Server (HTTP)
  version: 0.0.1
  description: |
    API HTTP minimale associée au signaling server.

    Le signaling applicatif se fait via WebSocket (voir la page “Signaling server (WebSocket)”).

    {% hint style="info" %}
    **Pourquoi ce fichier ?**
    GitBook génère une “API Reference” interactive à partir d’OpenAPI.
    On documente ici le healthcheck pour les tests, le debug et des probes.
    {% endhint %}
servers:
  - url: http://localhost:3001
tags:
  - name: signaling
    x-page-title: Signaling
    x-page-description: Endpoints HTTP de support (healthcheck).
    x-page-icon: heart-pulse
paths:
  /health:
    get:
      summary: Healthcheck
      description: |
        Retourne `ok: true` si le process est vivant et en écoute.

        Note: ce endpoint est volontairement minimal.
      tags:
        - signaling
      operationId: getHealth
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                required:
                  - ok
                properties:
                  ok:
                    type: boolean
                    example: true
      x-codeSamples:
        - lang: cURL
          label: CLI
          source: |
            curl -s http://localhost:3001/health
        - lang: JavaScript
          label: Fetch
          source: |
            fetch('http://localhost:3001/health')
              .then(r => r.json())
              .then(console.log);
